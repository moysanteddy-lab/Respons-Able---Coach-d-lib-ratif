<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#1e3a5f">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <title>Coach Civique ‚Äî Respons'Able</title>
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <!-- Menu lat√©ral -->
  <div class="menu-overlay" id="menu-overlay"></div>
  <aside class="side-menu" id="side-menu">
    <div class="menu-header">
      <span class="brand">Respons'Able</span>
      <button class="menu-close" id="menu-close">&times;</button>
    </div>
    <nav class="menu-nav">
      <button class="menu-item active" data-view="coach">Coach Civique</button>
      <button class="menu-item" data-view="parcours">Mon Parcours</button>
      <button class="menu-item" data-view="neuro">Neuro D√©lib√©ration</button>
      <button class="menu-item" data-view="toolbox">Bo√Æte √† outils mobilisation</button>
      <div class="menu-separator"></div>
      <div class="menu-soon-label">Bient√¥t disponible</div>
      <span class="menu-item disabled">Agora (d√©bats citoyens)</span>
      <span class="menu-item disabled">Plan d'action (Gantt)</span>
      <span class="menu-item disabled">Indice d√©mocratique</span>
      <div class="menu-separator"></div>
      <div class="menu-item menu-toggle-row">
        <span>Langue / Idioma</span>
        <select id="lang-select" class="lang-select">
          <option value="fr">Fran√ßais</option>
          <option value="es">Espa√±ol</option>
        </select>
      </div>
      <div class="menu-item menu-toggle-row">
        <span>Mode sombre</span>
        <label class="toggle-switch">
          <input type="checkbox" id="dark-mode-toggle">
          <span class="toggle-slider"></span>
        </label>
      </div>
      <button class="menu-item menu-reset" id="new-session-btn">Nouvelle session</button>
    </nav>
  </aside>

  <div class="app">
    <header class="app-header">
      <button class="hamburger" id="hamburger" aria-label="Menu">
        <span></span><span></span><span></span>
      </button>
      <div class="header-text">
        <div class="brand">Respons'Able</div>
        <h1 id="view-title">Coach Civique</h1>
        <p id="view-subtitle">Pr√©pare ta voix pour la d√©lib√©ration</p>
      </div>
      <div class="header-spacer"></div>
    </header>

    <div class="progress-bar" id="progress-bar">
      <div class="progress-fill" id="progress-fill"></div>
    </div>

    <!-- Vue Coach -->
    <div class="view active" id="view-coach">
      <nav class="phases" id="phases-nav"></nav>
      <div class="phase-info">
        <span id="phase-info-text"></span>
        <button class="info-btn" id="info-btn" aria-label="Plus d'infos">i</button>
      </div>
      <div class="toolkit-banner" id="toolkit-banner"></div>
      <main class="chat" id="chat"></main>
      <footer class="input-bar">
        <textarea id="input" placeholder="√âcris ton message..." rows="1"></textarea>
        <button id="mic-btn" aria-label="Micro">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"/>
            <path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"/>
          </svg>
        </button>
        <button id="send-btn" aria-label="Envoyer">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
          </svg>
        </button>
      </footer>
    </div>

    <!-- Vue Bo√Æte √† outils -->
    <div class="view" id="view-toolbox">
      <div class="toolbox" id="toolbox-content"></div>
    </div>

    <!-- Vue Neuro D√©lib√©ration -->
    <div class="view" id="view-neuro">
      <div class="neuro-content" id="neuro-content"></div>
    </div>

    <!-- Vue Mon Parcours -->
    <div class="view" id="view-parcours">
      <div class="parcours-content" id="parcours-content"></div>
    </div>
  </div>

  <!-- Modal info phase -->
  <div class="modal-overlay" id="info-modal">
    <div class="modal">
      <div class="modal-header">
        <h3 id="info-modal-title"></h3>
        <button class="modal-close" id="info-modal-close">&times;</button>
      </div>
      <div class="modal-body" id="info-modal-body"></div>
    </div>
  </div>

  <!-- Onboarding Tutorial -->
  <div class="onboarding-overlay" id="onboarding-overlay">
    <div class="onboarding-modal">
      <button class="onboarding-skip" id="onboarding-skip">Passer</button>

      <!-- Slide 1: Bienvenue -->
      <div class="onboarding-slide active" data-slide="1">
        <div class="onboarding-icon">üéØ</div>
        <h2>Bienvenue sur Coach Civique</h2>
        <p class="onboarding-main">Pr√©pare ta voix pour la d√©lib√©ration citoyenne.</p>
        <p class="onboarding-sub">Les techniques que tu vas d√©couvrir ici te serviront aussi au quotidien ‚Äî r√©unions, d√©bats, conversations difficiles. Partout o√π ta parole compte.</p>
      </div>

      <!-- Slide 2: Parcours anim√© -->
      <div class="onboarding-slide" data-slide="2">
        <h2>Un parcours en 6 phases</h2>
        <div class="onboarding-phases">
          <div class="onboarding-phase" data-phase="1">1</div>
          <div class="onboarding-phase" data-phase="2">2</div>
          <div class="onboarding-phase" data-phase="3">3</div>
          <div class="onboarding-phase" data-phase="4">4</div>
          <div class="onboarding-phase" data-phase="5">5</div>
          <div class="onboarding-phase" data-phase="6">6</div>
        </div>
        <div class="onboarding-phase-info">
          <div class="onboarding-phase-name" id="onboarding-phase-name">Expression libre</div>
          <div class="onboarding-phase-desc" id="onboarding-phase-desc">Exprime librement ce qui te pr√©occupe dans la soci√©t√©.</div>
        </div>
      </div>

      <!-- Slide 3: Auto-√©valuation -->
      <div class="onboarding-slide" data-slide="3">
        <div class="onboarding-icon">üìä</div>
        <h2>Mesure ton √©volution</h2>
        <p class="onboarding-main">Au d√©but et √† la fin de chaque session, √©value 4 comp√©tences cl√©s :</p>
        <div class="onboarding-skills">
          <span>Confiance</span><span>Clart√©</span><span>√âcoute</span><span>R√©gulation</span>
        </div>
        <p class="onboarding-sub">Tu pourras voir ta progression dans "Mon Parcours".</p>
      </div>

      <!-- Slide 4: Techniques Neuro -->
      <div class="onboarding-slide" data-slide="4">
        <div class="onboarding-icon">üß†</div>
        <h2>Des techniques valid√©es</h2>
        <p class="onboarding-main">√Ä chaque phase, des outils issus des neurosciences t'accompagnent.</p>
        <p class="onboarding-sub">Tu verras aussi des "Le saviez-vous ?" ‚Äî des insights sur le fonctionnement de ton cerveau en situation de d√©bat.</p>
      </div>

      <!-- Slide 5: Bo√Æte √† outils -->
      <div class="onboarding-slide" data-slide="5">
        <div class="onboarding-icon">üõ†Ô∏è</div>
        <h2>Bo√Æte √† outils mobilisation</h2>
        <p class="onboarding-main">Au-del√† du coaching, d√©couvre les formes concr√®tes de mobilisation citoyenne.</p>
        <p class="onboarding-sub">P√©titions, manifestations, d√©sob√©issance civile... Tout ce qui peut porter ta voix.</p>
      </div>

      <!-- Slide 6: C'est parti -->
      <div class="onboarding-slide" data-slide="6">
        <div class="onboarding-icon">üöÄ</div>
        <h2>C'est parti !</h2>
        <p class="onboarding-main">Tu es pr√™t¬∑e √† commencer ton parcours.</p>
        <button class="onboarding-start" id="onboarding-start">Commencer</button>
      </div>

      <!-- Navigation -->
      <div class="onboarding-nav">
        <div class="onboarding-dots" id="onboarding-dots">
          <span class="dot active" data-slide="1"></span>
          <span class="dot" data-slide="2"></span>
          <span class="dot" data-slide="3"></span>
          <span class="dot" data-slide="4"></span>
          <span class="dot" data-slide="5"></span>
          <span class="dot" data-slide="6"></span>
        </div>
        <button class="onboarding-next" id="onboarding-next">Suivant</button>
      </div>
    </div>
  </div>

  <script src="toolbox-data.js"></script>
  <script src="toolkit-data.js"></script>
  <script src="coach-i18n.js"></script>
  <script src="app.js"></script>
</body>
</html>
