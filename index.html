<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#1e3a5f">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <title>Coach Civique — Respons'Able</title>
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <!-- Menu latéral -->
  <div class="menu-overlay" id="menu-overlay"></div>
  <aside class="side-menu" id="side-menu">
    <div class="menu-header">
      <span class="brand">Respons'Able</span>
      <button class="menu-close" id="menu-close">&times;</button>
    </div>
    <nav class="menu-nav">
      <button class="menu-item active" data-view="coach">Coach Civique</button>
      <button class="menu-item" data-view="parcours">Mon Parcours</button>
      <button class="menu-item" data-view="neuro">Neuro Délibération</button>
      <button class="menu-item" data-view="toolbox">Boîte à outils mobilisation</button>
      <div class="menu-separator"></div>
      <div class="menu-soon-label">Bientôt disponible</div>
      <span class="menu-item disabled">Agora (débats citoyens)</span>
      <span class="menu-item disabled">Plan d'action (Gantt)</span>
      <span class="menu-item disabled">Indice démocratique</span>
      <div class="menu-separator"></div>
      <div class="menu-item menu-toggle-row">
        <span>Langue / Idioma</span>
        <select id="lang-select" class="lang-select">
          <option value="fr">Français</option>
          <option value="es">Español</option>
        </select>
      </div>
      <div class="menu-item menu-toggle-row">
        <span>Mode sombre</span>
        <label class="toggle-switch">
          <input type="checkbox" id="dark-mode-toggle">
          <span class="toggle-slider"></span>
        </label>
      </div>
      <button class="menu-item menu-reset" id="new-session-btn">Nouvelle session</button>
    </nav>
  </aside>

  <div class="app">
    <header class="app-header">
      <button class="hamburger" id="hamburger" aria-label="Menu">
        <span></span><span></span><span></span>
      </button>
      <div class="header-text">
        <div class="brand">Respons'Able</div>
        <h1 id="view-title">Coach Civique</h1>
        <p id="view-subtitle">Prépare ta voix pour la délibération</p>
      </div>
      <div class="header-spacer"></div>
    </header>

    <div class="progress-bar" id="progress-bar">
      <div class="progress-fill" id="progress-fill"></div>
    </div>

    <!-- Vue Coach -->
    <div class="view active" id="view-coach">
      <nav class="phases" id="phases-nav"></nav>
      <div class="phase-info">
        <span id="phase-info-text"></span>
        <button class="info-btn" id="info-btn" aria-label="Plus d'infos">i</button>
      </div>
      <div class="toolkit-banner" id="toolkit-banner"></div>
      <main class="chat" id="chat"></main>
      <footer class="input-bar">
        <textarea id="input" placeholder="Écris ton message..." rows="1"></textarea>
        <button id="mic-btn" aria-label="Micro">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"/>
            <path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"/>
          </svg>
        </button>
        <button id="send-btn" aria-label="Envoyer">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
          </svg>
        </button>
      </footer>
    </div>

    <!-- Vue Boîte à outils -->
    <div class="view" id="view-toolbox">
      <div class="toolbox" id="toolbox-content"></div>
    </div>

    <!-- Vue Neuro Délibération -->
    <div class="view" id="view-neuro">
      <div class="neuro-content" id="neuro-content"></div>
    </div>

    <!-- Vue Mon Parcours -->
    <div class="view" id="view-parcours">
      <div class="parcours-content" id="parcours-content"></div>
    </div>
  </div>

  <!-- Modal info phase -->
  <div class="modal-overlay" id="info-modal">
    <div class="modal">
      <div class="modal-header">
        <h3 id="info-modal-title"></h3>
        <button class="modal-close" id="info-modal-close">&times;</button>
      </div>
      <div class="modal-body" id="info-modal-body"></div>
    </div>
  </div>

  <script src="toolbox-data.js"></script>
  <script src="toolkit-data.js"></script>
  <script src="coach-i18n.js"></script>
  <script src="app.js"></script>
</body>
</html>
